!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Easings=require("./../utils/Easings.js"),_Easings2=_interopRequireDefault(_Easings),animate=function(){this.beginOffset=this.currentOffset,this.changeOffset=this.finishOffset-this.beginOffset,this.currentOffset=_Easings2["default"][this.config.easingParallax](1,this.beginOffset,this.changeOffset,this.config.animationDuration),Math.abs(this.currentOffset)<.1&&(this.currentOffset=0),this.el.style.transform="translateY("+this.currentOffset+"px)"},_class=function(){function _class(el,bounce,config){_classCallCheck(this,_class),this.el=el,this.config=config,this.active=!0,this.bounce=bounce,this.transYGlobal=0,this.currentOffset=0,this.beginOffset=0,this.finishOffset=0,this.changeOffset=0,this.afterIncreaseMaxCallback=!1,this.max=!1}return _createClass(_class,[{key:"changeGlobalTranslate",value:function(offset){this.transYGlobal=offset,this.currentOffset=offset}},{key:"disable",value:function(){this.active=!1}},{key:"enable",value:function(){this.active=!0}},{key:"clear",value:function(){this.currentOffset=0,this.el.style.transform=""}},{key:"getCurrentOffset",value:function(){return this.currentOffset}},{key:"setMaxOffset",value:function(afterIncreaseMaxCallback,max){this.afterIncreaseMaxCallback=afterIncreaseMaxCallback,this.max=max}}]),_createClass(_class,[{key:"update",value:function(speed,direction){if(this.active){var relativeY=Math.round(speed*this.bounce*100)/100;this.finishOffset=relativeY+this.transYGlobal,this.afterIncreaseMaxCallback&&this.max&&Math.abs(relativeY)>this.max&&this.afterIncreaseMaxCallback(relativeY,direction),animate.call(this)}}}]),_class}();exports["default"]=_class},{"./../utils/Easings.js":11}],2:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),onSpaceButtonFn=function(){},onArrowUpFn=function(){},onArrowDownFn=function(){},ARROW_UP=38,ARROW_DOWN=40,SPACEBAR=32,handleKey=function(e){var tag=e.target.tagName.toLowerCase();if("input"===tag||"textarea"===tag)return!1;switch(e.which){case ARROW_UP:onArrowUpFn();break;case ARROW_DOWN:onArrowDownFn();break;case SPACEBAR:onSpaceButtonFn()}},_class=function(){function _class(){_classCallCheck(this,_class)}return _createClass(_class,[{key:"addSpaceAction",value:function(fn){onSpaceButtonFn=fn}},{key:"addArrowUpAction",value:function(fn){onArrowUpFn=fn}},{key:"addArrowDownAction",value:function(fn){onArrowDownFn=fn}},{key:"enable",value:function(){document.addEventListener("keyup",handleKey)}},{key:"disable",value:function(){document.removeEventListener("keyup",handleKey)}}]),_class}();exports["default"]=_class},{}],3:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var timerClearEventTime,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Device=require("./../utils/Device.js"),_Device2=_interopRequireDefault(_Device),firstEventTime=!1,currentEventDirection=!1,currentEventMaxDelta=0,clearEventTime=function(){firstEventTime=!1,currentEventDirection="",currentEventMaxDelta=0},calcCorrectDelta=function(delta){var absDelta=Math.abs(delta);return absDelta>this.config.maxAllowedScrollDelta&&(delta="UP"===currentEventDirection?this.config.maxAllowedScrollDelta:-this.config.maxAllowedScrollDelta),_Device2["default"].isChromeOnWindows()?delta+3:delta},isCallEvent=function(event,delta,deltaX,deltaY){firstEventTime||(firstEventTime=Date.now(),currentEventDirection=deltaY>0?"UP":"DOWN");var currTime=Date.now(),absDelta=Math.abs(deltaY),diff=currTime-firstEventTime,callEvent=diff<this.config.maxScrollEventTime,slowScroll=Math.abs(deltaY)<this.config.maxDeltaWhenSlowScroll;return absDelta>currentEventMaxDelta&&(currentEventMaxDelta=absDelta),clearTimeout(timerClearEventTime),timerClearEventTime=setTimeout(clearEventTime,this.config.timeAgainListenForScrollEvents),slowScroll&&currentEventMaxDelta<this.config.maxDeltaWhenSlowScroll?!0:callEvent},onScroll=function(event,delta,deltaX,deltaY){this.active&&isCallEvent.call(this,event,delta,deltaX,deltaY)&&this.onScrollFunction(calcCorrectDelta.call(this,deltaY,currentEventDirection),currentEventDirection)},_class=function(){function _class(config,onScrollFunction){_classCallCheck(this,_class),this.config=config,this.active=!1,this.onScrollFunction=onScrollFunction}return _createClass(_class,[{key:"enable",value:function(){this.active=!0,window.Hamster?window.Hamster(window).wheel(onScroll.bind(this)):this.config.scrollHandler(window).wheel(onScroll.bind(this))}},{key:"disable",value:function(){this.active=!1}}]),_class}();exports["default"]=_class},{"./../utils/Device.js":10}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var timerResizeEvent,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_StateController=require("./modules/StateController.js"),_StateController2=_interopRequireDefault(_StateController),_SlidesWrapper=require("./modules/SlidesWrapper.js"),_SlidesWrapper2=_interopRequireDefault(_SlidesWrapper),_BodyClassManager=require("./modules/BodyClassManager.js"),_BodyClassManager2=_interopRequireDefault(_BodyClassManager),_KeyboardHandler=require("./handlers/KeyboardHandler.js"),_KeyboardHandler2=_interopRequireDefault(_KeyboardHandler),_extend=require("./utils/extend.js"),_extend2=_interopRequireDefault(_extend),_isInt=require("./utils/isInt.js"),_isInt2=_interopRequireDefault(_isInt),defaults={wrapper:document.createElement("div"),sections:[],bounceWrapper:3.14,maxParralaxWrapper:30,slidesCounts:4,autoEnable:!0,resizeEvents:!0,callSlidedEventsAfterStart:!0,easingSlideWrapper:"easeIn",easingParallax:"easeIn",animationDuration:30,showItemsAnimatinTime:750,slideAnimationTime:300,timeHoldAnimationAfterMove:100,timeBlockSlideDetectAfterDetect:2500,timeShowItemAfterStartSlide:350,maxSpeedScrolling:80,moveBackAccellarate:2.8,maxScrollEventTime:300,timeAgainListenForScrollEvents:50,maxDeltaWhenSlowScroll:15,maxAllowedScrollDelta:100,beforeSlide:function(){},afterSlide:function(){},startShowItemsAnimation:function(){}},beforeSlide=function(_beforeSlide,currentSlide){this.settings.beforeSlide(_beforeSlide,currentSlide),this.bodyClassManagerInst.beforeSlide(_beforeSlide,currentSlide),this.stateControllerInst.resetSpeed.bind(this)},afterSlide=function(beforeSlide,currentSlide){this.settings.afterSlide(beforeSlide,currentSlide),this.bodyClassManagerInst.afterSlide(beforeSlide,currentSlide)},startShowItemsAnimation=function(beforeSlide,currentSlide){this.settings.startShowItemsAnimation(beforeSlide,currentSlide),this.bodyClassManagerInst.startShowItemsAnimation(beforeSlide,currentSlide)},resize=function(){console.log("resize"),this.slidesWrapperInst.resize()},parallaxOnePage=function(){function parallaxOnePage(options){var _this=this;_classCallCheck(this,parallaxOnePage),this.enable=!0,this.settings=(0,_extend2["default"])(defaults,options),this.settings.sections=this.settings.wrapper.querySelectorAll("section"),this.settings.slidesCounts=this.settings.sections.length,this.slidesWrapperInst=new _SlidesWrapper2["default"](this.settings),this.stateControllerInst=new _StateController2["default"](this.settings),this.stateControllerInst.onTick(this.slidesWrapperInst.update.bind(this.slidesWrapperInst)),this.slidesWrapperInst.addBeforeSlide(beforeSlide.bind(this)),this.slidesWrapperInst.addAfterSlide(afterSlide.bind(this)),this.slidesWrapperInst.addStartShowItemsAnimation(startShowItemsAnimation.bind(this)),this.bodyClassManagerInst=new _BodyClassManager2["default"](this.settings),this.keyboardHandlerInst=new _KeyboardHandler2["default"],this.keyboardHandlerInst.addSpaceAction(this.slideDown.bind(this)),this.keyboardHandlerInst.addArrowUpAction(this.slideUp.bind(this)),this.keyboardHandlerInst.addArrowDownAction(this.slideDown.bind(this)),this.settings.autoEnable&&this.setEnable.call(this),this.settings.resizeEvents&&window.addEventListener("resize",function(){clearTimeout(timerResizeEvent),timerResizeEvent=setTimeout(resize.bind(_this),400)}),this.settings.callSlidedEventsAfterStart&&(beforeSlide.call(this,1,1),afterSlide.call(this,1,1),startShowItemsAnimation.call(this,1,1))}return _createClass(parallaxOnePage,[{key:"slideUp",value:function(){return this.slidesWrapperInst.slideUp()}},{key:"slideDown",value:function(){return this.slidesWrapperInst.slideDown()}},{key:"slideTo",value:function(indexOrSlideName){var index=(0,_isInt2["default"])(indexOrSlideName)?indexOrSlideName:this.bodyClassManagerInst.getIndexOfSection(indexOrSlideName);return index?this.slidesWrapperInst.slideTo(index):!1}},{key:"toggleEnable",value:function(){this.enable?this.setDisable():this.setEnable()}},{key:"updateDOM",value:function(){this.settings.sections=this.settings.wrapper.querySelectorAll("section"),this.slidesWrapperInst.updateDom(this.settings.sections)}},{key:"setEnable",value:function(){this.stateControllerInst.enable(),this.keyboardHandlerInst.enable(),this.enable=!0}},{key:"setDisable",value:function(){this.stateControllerInst.disable(),this.keyboardHandlerInst.disable(),this.enable=!1}}]),parallaxOnePage}();"function"==typeof window.define&&window.define.amd?window.define("parallaxOnePage",[],function(){return parallaxOnePage}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&(module.exports=parallaxOnePage),window.getParallaxOnePage=function(config){return new parallaxOnePage(config)}},{"./handlers/KeyboardHandler.js":2,"./modules/BodyClassManager.js":5,"./modules/SlidesWrapper.js":8,"./modules/StateController.js":9,"./utils/extend.js":12,"./utils/isInt.js":13}],5:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),getSectionsName=function(sections){Array.prototype.forEach.call(sections,function(section,index){var name=section.dataset.name;this.sectionsNames.push(name?name:index+1)}.bind(this))},currentSectionName="",_class=function(){function _class(config){_classCallCheck(this,_class),this.sectionsNames=[],this.config=config,getSectionsName.call(this,this.config.sections),currentSectionName=this.getNameOfSection(1),this.beforeSlide(1,1),this.afterSlide(1,1),this.startShowItemsAnimation(1,1)}return _createClass(_class,[{key:"getIndexOfSection",value:function(searchName){var searchIndex=!1;return this.sectionsNames.forEach(function(name,index){name===searchName&&(searchIndex=index+1)}),searchIndex}},{key:"getNameOfSection",value:function(index){return this.sectionsNames[index-1]}},{key:"beforeSlide",value:function(_beforeSlide,currentSlide){document.body.classList.remove(currentSectionName),document.body.classList.remove("start-"+currentSectionName),document.body.classList.remove("before-"+currentSectionName),currentSectionName=this.getNameOfSection(currentSlide),document.body.classList.add("start-"+currentSectionName)}},{key:"afterSlide",value:function(){document.body.classList.add(currentSectionName)}},{key:"startShowItemsAnimation",value:function(){document.body.classList.add("before-"+currentSectionName)}}]),_class}();exports["default"]=_class},{}],6:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ParallaxAnimation=require("./../animations/ParallaxAnimation.js"),_ParallaxAnimation2=_interopRequireDefault(_ParallaxAnimation),_class=function(){function _class(el,mainConfig,configItem,slideNumber){_classCallCheck(this,_class),this.el=el,this.mainConfig=mainConfig,this.currentSlide=1,this.slideNumber=slideNumber,this.configItem=configItem,this.ParallaxAnimationInst=new _ParallaxAnimation2["default"](el,this.configItem.bounce,mainConfig)}return _createClass(_class,[{key:"slide",value:function(from,to){if(this.currentSlide=to,!this.configItem.showingDisable)if(to===this.slideNumber){var direction=from>to?"up":"down";this.ParallaxAnimationInst.clear(),this.ParallaxAnimationInst.disable(),this.el.classList.add("direction-"+direction),setTimeout(function(){this.el.classList.add("show"),this.el.classList.add("animate-show")}.bind(this),this.configItem.showingDelay),setTimeout(function(){this.el.classList.remove("animate-show")}.bind(this),this.configItem.showingDelay+this.mainConfig.showItemsAnimatinTime),setTimeout(function(){this.ParallaxAnimationInst.enable(),this.el.classList.remove("direction-"+direction),console.log("Finish show up animation")}.bind(this),this.configItem.showingDelay+this.mainConfig.showItemsAnimatinTime+120)}else from===this.slideNumber&&this.el.classList.remove("show")}},{key:"enable",value:function(){this.ParallaxAnimationInst.enable()}},{key:"disable",value:function(){this.ParallaxAnimationInst.disable()}}]),_createClass(_class,[{key:"update",value:function(speed,direction){this.currentSlide===this.slideNumber&&this.ParallaxAnimationInst.update(speed,direction)}}]),_class}();exports["default"]=_class},{"./../animations/ParallaxAnimation.js":1}],7:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Item=require("./Item.js"),_Item2=_interopRequireDefault(_Item),parseItem=function(el,sectionIndex){var configItem={bounce:parseFloat(el.dataset.parallaxBounce),showingDisable:!!el.dataset.animationShowingDisable,showingDelay:el.dataset.showingDelay?parseInt(el.dataset.showingDelay):5};this.items.push(new _Item2["default"](el,this.config,configItem,sectionIndex))},getItems=function(){var sections=this.config.sections,self=this;Array.prototype.forEach.call(sections,function(section,index){var items=section.querySelectorAll("[data-parallax-bounce]");Array.prototype.forEach.call(items,function(el){parseItem.call(self,el,index+1)})})},_class=function(){function _class(config){_classCallCheck(this,_class),this.config=config,this.items=[],getItems.call(this)}return _createClass(_class,[{key:"updateDom",value:function(sections,currentSection){this.config.sections=sections,this.items=[],getItems.call(this),this.slide(0,currentSection)}},{key:"enable",value:function(){this.items.forEach(function(item){return item.enable()})}},{key:"disable",value:function(){this.items.forEach(function(item){return item.disable()})}}]),_createClass(_class,[{key:"update",value:function(delta,direction){this.items.forEach(function(item){return item.update(delta,direction)})}},{key:"slide",value:function(from,to){this.items.forEach(function(item){return item.slide(from,to)})}}]),_class}();exports["default"]=_class},{"./Item.js":6}],8:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var isFinish,globalBeforeFn,globalAfterFn,globalStartShowItemsAnimationFn,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ParallaxAnimation=require("./../animations/ParallaxAnimation.js"),_ParallaxAnimation2=_interopRequireDefault(_ParallaxAnimation),_ItemsContainer=require("./ItemsContainer.js"),_ItemsContainer2=_interopRequireDefault(_ItemsContainer),_Easings=require("./../utils/Easings.js"),_Easings2=_interopRequireDefault(_Easings),callStartShowAnimationCallback=!1,blockedSlideDetect=!1,detectSlideChange=function(speed,direction){if(!blockedSlideDetect){blockedSlideDetect=!0,setTimeout(function(){return blockedSlideDetect=!1},this.config.timeBlockSlideDetectAfterDetect);var func="UP"===direction?this.slideUp:this.slideDown;func.call(this)}},calcSlideAnimationOffset=function(){return(this.currentSlide-1)*window.innerHeight*-1},startShowAnimation=function(){this.ItemContainer.slide(this.beforeSlide,this.currentSlide),globalStartShowItemsAnimationFn(this.beforeSlide,this.currentSlide)},afterSlideCallback=function(){globalAfterFn(this.beforeSlide,this.currentSlide)},beforeSlideCallback=function(){globalBeforeFn(this.beforeSlide,this.currentSlide)},animateSlideChange=function(){if(!isFinish){if(!callStartShowAnimationCallback){var diff=Math.abs(this.currentSlide-this.beforeSlide),timeScrollBeforeDestinySlide=(diff-1)*this.config.slideAnimationTime,timeFireEvent=this.config.timeShowItemAfterStartSlide+timeScrollBeforeDestinySlide;setTimeout(startShowAnimation.bind(this),timeFireEvent),callStartShowAnimationCallback=!0}var absCurrentOffset=Math.abs(this.currentOffset),absFinish=Math.abs(this.finishOffset);if("SLIDE_DOWN"===this.state?(isFinish=absCurrentOffset>absFinish-1,this.beginOffset=this.currentOffset,this.changeOffset=this.finishOffset-this.beginOffset):(isFinish=absFinish+1>absCurrentOffset,this.beginOffset=this.currentOffset,this.changeOffset=Math.abs(this.finishOffset-this.beginOffset)),isFinish)return this.ParallaxAnimationInst.changeGlobalTranslate(this.finishOffset),this.currentOffset=this.finishOffset,void setTimeout(function(){isFinish=!1,callStartShowAnimationCallback=!1,afterSlideCallback.call(this),this.state="PARALLAX"}.bind(this),this.config.timeHoldAnimationAfterMove);this.currentOffset=_Easings2["default"][this.config.easingSlideWrapper](1,this.beginOffset,this.changeOffset,this.config.animationDuration),this.config.wrapper.style.transform="translateY("+this.currentOffset+"px)"}},_class=function(){function _class(config){_classCallCheck(this,_class),this.config=config,this.ItemContainer=new _ItemsContainer2["default"](config),this.ParallaxAnimationInst=new _ParallaxAnimation2["default"](config.wrapper,this.config.bounceWrapper,this.config),this.ParallaxAnimationInst.setMaxOffset(detectSlideChange.bind(this),this.config.maxParralaxWrapper),this.currentOffset=0,this.currentSlide=1,this.beforeSlide=1,this.slidesCount=this.config.slidesCounts,this.state="PARALLAX",this.ItemContainer.slide(this.beforeSlide,this.currentSlide)}return _createClass(_class,[{key:"resize",value:function(){var offset=calcSlideAnimationOffset.call(this);this.currentOffset=offset,this.ParallaxAnimationInst.changeGlobalTranslate(offset)}},{key:"addBeforeSlide",value:function(fn){globalBeforeFn=fn}},{key:"addAfterSlide",value:function(fn){globalAfterFn=fn}},{key:"addStartShowItemsAnimation",value:function(fn){globalStartShowItemsAnimationFn=fn}},{key:"updateDom",value:function(sections){this.ItemContainer.updateDom(sections,this.currentSlide)}},{key:"slideDown",value:function(){if(this.currentSlide<this.slidesCount){var id=this.currentSlide+1;return this.slideTo(id),!0}return!1}},{key:"slideUp",value:function(){if(1!==this.currentSlide){var id=this.currentSlide-1;return this.slideTo(id),!0}return!1}},{key:"slideTo",value:function(id){return 1>id||id>this.slidesCount||"PARALLAX"!==this.state||id===this.currentSlide?!1:(this.beforeSlide=this.currentSlide,this.currentSlide=id,this.finishOffset=calcSlideAnimationOffset.call(this),this.currentOffset=this.ParallaxAnimationInst.getCurrentOffset(),this.state=this.beforeSlide<this.currentSlide?"SLIDE_DOWN":"SLIDE_UP",beforeSlideCallback.call(this),!0)}}]),_createClass(_class,[{key:"update",value:function(speed,direction){"PARALLAX"===this.state?(this.ParallaxAnimationInst.update(speed,direction),this.ItemContainer.update(speed,direction)):animateSlideChange.call(this)}}]),_class}();exports["default"]=_class},{"./../animations/ParallaxAnimation.js":1,"./../utils/Easings.js":11,"./ItemsContainer.js":7}],9:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var speedAbs,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ScrollHandler=require("./../handlers/ScrollHandler.js"),_ScrollHandler2=_interopRequireDefault(_ScrollHandler),timer=null,currentSpeed=0,tickFn=function(){},calcAccelerate=function(){return Math.abs(this.currentDelta)/2},getCurrentState=function(){return speedAbs=Math.abs(currentSpeed),this.scrolling&&speedAbs<this.config.maxSpeedScrolling?"UP"===this.direction?"SCROLLING_UP":"SCROLLING_DOWN":1.6>speedAbs?"CLOSE_ZERO":!this.scrolling&&0>currentSpeed?"MOVE_BACK_UP":!this.scrolling&&currentSpeed>0?"MOVE_BACK_DOWN":speedAbs>this.config.maxSpeedScrolling-5?"UP"===this.direction?"SCROLLING_MAX_UP":"SCROLLING_MAX_DOWN":"IDLE"},calcSpeed=function(state){switch(this.acceleration=calcAccelerate.call(this),state){case"SCROLLING_UP":currentSpeed+=this.acceleration;break;case"SCROLLING_DOWN":currentSpeed-=this.acceleration;break;case"MOVE_BACK_UP":currentSpeed+=this.config.moveBackAccellarate;break;case"MOVE_BACK_DOWN":currentSpeed-=this.config.moveBackAccellarate;break;case"SCROLLING_MAX_UP":currentSpeed=this.config.maxSpeedScrolling;break;case"SCROLLING_MAX_DOWN":currentSpeed=-this.config.maxSpeedScrolling;break;case"CLOSE_ZERO":currentSpeed=0}},setNotScrolling=function(){this.scrolling=!1},tick=function tick(){if(this.active){var state=getCurrentState.call(this);calcSpeed.call(this,state),tickFn(currentSpeed,this.direction),requestAnimationFrame(tick.bind(this))}},_class=function(){function _class(config){_classCallCheck(this,_class),this.config=config,this.scrolling=!1,this.active=!1,this.currentDelta=0,this.scrollManagerInst=new _ScrollHandler2["default"](this.config,this.detectScroll.bind(this))}return _createClass(_class,[{key:"resetSpeed",value:function(){currentSpeed=0}},{key:"detectScroll",value:function(delta,direction){this.scrolling=!0,this.direction=direction,this.currentDelta=delta,clearTimeout(timer),timer=setTimeout(setNotScrolling.bind(this),160)}},{key:"onTick",value:function(fn){tickFn=fn}}]),_createClass(_class,[{key:"disable",value:function(){this.active=!1,this.scrollManagerInst.disable()}},{key:"enable",value:function(){this.active=!0,this.scrollManagerInst.enable(),tick.call(this)}}]),_class}();exports["default"]=_class},{"./../handlers/ScrollHandler.js":3}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var userAgent=navigator.userAgent.toLowerCase(),Device={isChromeOnWindows:function(){return-1!==userAgent.indexOf("chrome")&&-1!==userAgent.indexOf("windows")},isWindows:function(){return-1!==userAgent.indexOf("windows")}};exports["default"]=Device},{}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Easings={easeIn:function(t,b,c,d){return-c*(t/=d)*(t-2)+b}};exports["default"]=Easings},{}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(obj1,obj2){for(var i in obj2)obj2.hasOwnProperty(i)&&(obj1[i]=obj2[i]);return obj1}},{}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(n){return Number(n)===n&&n%1===0}},{}]},{},[4]);
//# sourceMappingURL=parallaxOnePage.js.map
